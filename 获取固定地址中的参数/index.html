<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>练习</title>
	</head>
	<body>

		<script type="text/javascript">
			function getUrlParam(sUrl, sKey) {
				if (sUrl == '' || sUrl == undefined) {
					return false;
				}
				// 获取url中的数据（去掉锚点）
				var param = sUrl.split('#')[0].split('?')[1];
				var sKeys = param.split("&");
				// 判断是否存在指定的key
				if (sKey) { // 存在
					var arr = [];
					sKeys.forEach(function(item) {
						var temp = item.split("=");
						if (temp[0] === sKey) {
							arr.push(temp[1])
						}
					});
					if (arr.length === 1) {
						return arr[0];
					} else if (arr.length === 0) {
						return "";
					} else {
						return arr;
					}
				} else { // 不存在
					var obj = {};
					sKeys.forEach(function(item) {
						var temp = item.split("=");
						if (!(temp[0] in obj)) {
							obj[temp[0]] = [];
						}
						obj[temp[0]].push(temp[1]);
					});
					return obj;
				}
			}
			var aaa = getUrlParam('http://www.nowcoder.com?key=1&key=2&key=3&test=4#hehe', 'key');
			console.log(aaa)
		</script>
	</body>
</html>
